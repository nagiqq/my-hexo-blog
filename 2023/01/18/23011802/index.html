<!DOCTYPE html><html lang="zh-TW"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible"><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1,user-scalable=no"><meta name="renderer" content="webkit"><meta name="color-scheme" content="dark light"><meta name="author" content="Nagi Liu"><meta name="description" content="做了可能不會改變，但不做一定不會改變"><meta name="keywords" content="blog,前端"><title>Nuxt3 - dynamic pages</title><link rel="icon" type="image/x-icon" href="/images/myicon.ico"><link rel="stylesheet" href="//at.alicdn.com/t/font_3242539_utq6ykfq7z.css"><link rel="stylesheet" light-src="https://cdn.staticfile.org/highlight.js/11.5.0/styles/default.min.css" dark-src="https://cdn.staticfile.org/highlight.js/11.5.0/styles/tokyo-night-dark.min.css"><link rel="stylesheet" href="https://fonts.font.im/css?family=Noto+Serif" as="font"><link href="/style/index.css" rel="stylesheet"><link rel="econnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Kalam:wght@400&amp;display=swap" rel="stylesheet"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Sofia+Sans:wght@500&amp;display=swap" rel="stylesheet"><meta name="generator" content="Hexo 6.3.0"></head><body><header class="page-header"><nav><ul class="router-list"><li class="nav-item"><a href="/">首頁</a></li><li class="nav-item"><a href="/archives/">目錄</a></li></ul><div class="mode-switch"><span class="iconfont icon-DarkTheme"><!-- TODO: 社群連結 先關掉--></span></div></nav><!--if is_home() || is_archive() || is_tag()--><!--  ul.social-list--><!--    each social in theme.socialList--><!--      li.social-item--><!--        a(href=social.url)--><!--          span(class=['iconfont', `icon-${social.name}`])--></header><main><section class="main-content"><section class="post-page"><div class="title-bar"><h1>Nuxt3 - dynamic pages</h1><div class="post-info"><span>2023-01-18 17:17:36</span><span class="tags"><a href="/tags/Nuxt3/">#Nuxt3</a><a href="/tags/front-end/">#front-end</a></span></div></div><div class="feature-img"><img src="https://nagiqq.github.io/2023/01/18/23011802/0201.jpg" alt="feature-img"/></div><article><div class="content"><h2 id="Abstract-文章摘要"><a href="#Abstract-文章摘要" class="headerlink" title="Abstract 文章摘要"></a>Abstract 文章摘要</h2><p>在研究nuxt3 的dynamic pages時，摸索了好一陣子，這邊簡單紀錄一下關於nuxt3 動態頁面的觀念與用法。</p>
<pre><code>1. 官方文件說明 &amp; 官方範例↓
</code></pre>
<p><a target="_blank" rel="noopener" href="https://v3.nuxtjs.org/guide/directory-structure/pages#example">nuxtjs.org</a></p>
<p><a target="_blank" rel="noopener" href="https://v3.nuxtjs.org/examples/routing/pages">Pages · Nuxt This example</a></p>
<pre><code>2. nuxt3 的動態路由，基本觀念有以下幾個
</code></pre>
<p>頁面命名方式為[params].vue，裡面塞動態路由的參數<br>例如：[slug].vue，接收參數方式→ <code>$&#123;route.params.slug&#125;</code><br>(slug可以替換成其他傳入的參數名稱，例如：id、slut…都可以)<br><br/></p>
<p>在<code>&lt;script&gt;</code> 中第一行先聲明 使用route<br><code>const route = useRoute()</code></p>
<pre><code>3. 範例 — — api ver
</code></pre>
<p>將頁面命名為[slug].vue ，並在<code>&lt;script&gt;</code>裡面放入api (範例api為官方範例提供的mountain data)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// @[slug].vue</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">const route = useRoute()</span><br><span class="line">const &#123; data: mountain &#125; = </span><br><span class="line">    await useFetch(`https://api.nuxtjs.dev/mountains/$&#123;route.params.slug&#125;`)</span><br><span class="line">// TODO: 動態網址為api裡面的slug名稱</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;h1&gt;&#123;&#123; mountain.title &#125;&#125;&lt;/h1&gt;</span><br><span class="line">&lt;p&gt; &#123;&#123; mountain.description &#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">網址輸入api中slug的value值，即可連到成功連到頁面，並可在頁面中使用api的data</span><br></pre></td></tr></table></figure>
<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="
  class="img-loading" data-original="https://nagiqq.github.io/2023/01/18/23011802/0201.jpg"" alt="頁面呈現結果"><br>[slug].vue頁面呈現結果</p>
<p>範例github↓<br><a target="_blank" rel="noopener" href="https://github.com/nagiqq/nuxt3_dynamicpages">GitHub - nagiqq&#x2F;nuxt3_dynamicpagesLook at the nuxt 3 documentation to learn more. Make sure to install the dependencies: Start the development server on…github.com</a></p>
<pre><code>4. [[slug]].vue
</code></pre>
<p><strong><code>[[slug]].vue</code> 雙中括號表示傳入的參數為可選</strong><br>可用 ?? 來表示如果沒有傳入route的參數時的預設值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const pageID = ref(route.params.pageID ?? 1)</span><br></pre></td></tr></table></figure>
</div></article><!--.copyright-wrapper--><!--  p 原文作者:--><!--    a(href=config.url) #{ config.author }--><!--  p 原文链接:--><!--    a(href=page.permalink) #{ page.title }--><!--  p 发表日期: #{ time(page.date, 'YYYY-MM-DD HH:mm:ss') }--><!--  p 更新日期: #{ time(page.updatedDate, 'YYYY-MM-DD HH:mm:ss') }--><!--  p 版权声明: !{ theme.copyright.license }--><div class="post-pager"><div class="prev"><a href="/2023/01/18/23011801/" title="Nuxt3 - content |  v-for content | content 裡面的陣列">上一篇 Nuxt3 - content |  v-for content | content 裡面的陣列</a></div><div class="next"><a href="/2023/01/16/hello-world/" title="Hello World">下一篇 Hello World</a></div></div></section></section></main><footer class="footer-page"><div><span>Powered by</span><a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a><span>| Theme</span><a target="_blank" rel="noopener" href="https://github.com/techmovie/hexo-theme-instapaper">instapaper</a></div></footer><script src="/scripts/dark.js"></script><script src="/scripts/post.js"></script></body></html>